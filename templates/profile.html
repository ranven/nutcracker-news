<html>
    {% if session.username %}
    <h1>Welcome
        {{session.username}} </h1>
    <div style="display: flex">
        <a href="/logout">Log out</a>
        <a href="/posts">Posts</a>
        <a href="/users/{{session.user_id}}">My profile</a>
        {% else %}
        
        <a href="/signup">Sign up</a>
        <a href="/login">Log in</a>
        {% endif %}
    </div>
    <hr/>
    <div>
        {% if profile %}
            <h1>{{profile.username}}'s profile</h1>
            <p>description: {{profile.description}}</p>
            <p>country: {{profile.country}}</p>
            <hr/>
            {% if admin %}
            <h1>Edit profile</h1>
                <form action="/users" method="POST">
                    <label>Description</label><br/>
                    <textarea name="description"></textarea><br/>
                    <label>Country</label><br/>
                    <input name="country" type="text">
                    <br/>
                    <input type="submit" value="Submit">
                </form>
            <hr/>
            {% endif %}
            {% if posts %}
            <h1>{{profile.username}}'s posts</h1>
                {% for post in posts %}
                <div>
                    <h1>
                        {{post.title}}
                    </h1>
                    <p>{{post.content}}</p>
                </div>
                {% endfor %}
                {% else %}
                <p>No posts to display.</p>
                {% endif %}
                <hr/>
        {% endif %}
    </div>

   <div>
    {% for message in get_flashed_messages() %}
    <p>
        {{ message }}
    </p>
    {% endfor %}
    </div>
</html>